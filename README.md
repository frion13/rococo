# Rococo - –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –∏—Å–∫—É—Å—Å—Ç–≤–∞
<img src="images/logo.png" width="200" alt="Rococo Logo">

**–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è–º–∏ –∏—Å–∫—É—Å—Å—Ç–≤–∞**

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
- [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏](#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ IDE](#–∑–∞–ø—É—Å–∫_–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è_–≤_ide)
- [–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –ª–æ–∫–∞–ª—å–Ω–æ](#–∑–∞–ø—É—Å–∫_—Ç–µ—Å—Ç–æ–≤_–ª–æ–∫–∞–ª—å–Ω–æ)
- [–ó–∞–ø—É—Å–∫ –≤ Docker](#–∑–∞–ø—É—Å–∫_–≤_docker)


<a name="—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏"></a>
## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **Java 21**
- **Spring Boot 3** —Å –º–æ–¥—É–ª—è–º–∏:
  - Spring Security (OAuth2)
  - Spring Data JPA
  - Spring Kafka
  - Spring gRPC
- **–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**:
  - MySQL 8.3 (–æ—Å–Ω–æ–≤–Ω–∞—è –ë–î)
  - Flyway (–º–∏–≥—Ä–∞—Ü–∏–∏)
- **–ú–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ**:
  - gRPC –¥–ª—è
  - REST API
  - Kafka –¥–ª—è —Å–æ–±—ã—Ç–∏–π–Ω–æ–π –º–æ–¥–µ–ª–∏

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- Docker + Docker Compose
- Selenoid –¥–ª—è UI-—Ç–µ—Å—Ç–æ–≤
- Allure –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤

<a name="–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞"></a>
## üèõ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã


# Rococo - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### üõ° Auth Service
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è  
**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: Spring Security, OAuth2  
**–ü–æ—Ä—Ç**: 9000 (HTTP)  
**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è JWT —Ç–æ–∫–µ–Ω–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### üö™ Gateway Service
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤  
**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: Spring Cloud Gateway  
**–ü–æ—Ä—Ç**: 8090 (HTTP)  
**–§—É–Ω–∫—Ü–∏–∏**:
- –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏
- –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è REST‚ÜîgRPC

### üë§ Userdata Service
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: gRPC, JPA  
**–ü–æ—Ä—Ç**: 8091 (gRPC)  
**–î–∞–Ω–Ω—ã–µ**:
- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- –ê–≤–∞—Ç–∞—Ä—ã
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è

### üåç Geo Service
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏  
**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: gRPC, Cache  
**–ü–æ—Ä—Ç**: 8094 (gRPC)  
**–î–∞–Ω–Ω—ã–µ**:
- –°—Ç—Ä–∞–Ω—ã
- –ì–æ—Ä–æ–¥–∞

### üèõ Museum Service
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ö–∞—Ç–∞–ª–æ–≥ –º—É–∑–µ–µ–≤  
**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: gRPC, Elasticsearch  
**–ü–æ—Ä—Ç**: 8093 (gRPC)  
**–î–∞–Ω–Ω—ã–µ**:
- –û–ø–∏—Å–∞–Ω–∏—è –º—É–∑–µ–µ–≤
- –ö–æ–ª–ª–µ–∫—Ü–∏–∏


### üé® Artist Service
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ë–∞–∑–∞ —Ö—É–¥–æ–∂–Ω–∏–∫–æ–≤  
**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: gRPC, JPA  
**–ü–æ—Ä—Ç**: 8092 (gRPC)  
**–î–∞–Ω–Ω—ã–µ**:
- –ë–∏–æ–≥—Ä–∞—Ñ–∏–∏
- –°—Ç–∏–ª–∏ –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –°–≤—è–∑–∏ —Å –º—É–∑–µ—è–º–∏
- –°–≤—è–∑–∏ —Å –∫–∞—Ä—Ç–∏–Ω–∞–º–∏

### üñº Painting Service
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π  
**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: gRPC, JPA  
**–ü–æ—Ä—Ç**: 8095 (gRPC)  
**–î–∞–Ω–Ω—ã–µ**:
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç–∏–Ω
- –°–≤—è–∑–∏ —Å —Ö—É–¥–æ–∂–Ω–∏–∫–∞–º–∏
- –ò—Å—Ç–æ—Ä–∏—è —ç–∫—Å–ø–æ–∑–∏—Ü–∏–π

### üíª Frontend
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å  
**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: Svelte, TypeScript  
**–ü–æ—Ä—Ç**: 80 (HTTP)  
**–§—É–Ω–∫—Ü–∏–∏**:
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- –û—Ñ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≥–∞–ª–µ—Ä–µ–∏

## –°—Ö–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

![–°—Ö–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ Rococo](—Å—Ö–µ–º–∞.png)

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Rococo** –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –º–æ–¥–µ–ª–∏ —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —Å —Å–∏—Å—Ç–µ–º–æ–π –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ —á–µ—Ä–µ–∑ REST API —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∏ —Å–µ—Ä–≤–∏—Å–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ—Å—Ç–æ—Ç—É –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.

–û—Å–Ω–æ–≤–Ω–æ–π —à–ª—é–∑ (gateway) –≤—ã—Å—Ç—É–ø–∞–µ—Ç –µ–¥–∏–Ω–æ–π —Ç–æ—á–∫–æ–π –≤—Ö–æ–¥–∞, –ø—Ä–µ–æ–±—Ä–∞–∑—É—è –≤—Ö–æ–¥—è—â–∏–µ REST-–∑–∞–ø—Ä–æ—Å—ã –≤ –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–µ gRPC-–≤—ã–∑–æ–≤—ã –∫ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Å–µ—Ä–≤–∏—Å–∞–º - —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –º—É–∑–µ—è–º–∏, —Ö—É–¥–æ–∂–Ω–∏–∫–∞–º–∏ –∏ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è–º–∏ –∏—Å–∫—É—Å—Å—Ç–≤–∞.

–î–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å–ª–∞–±–æ—Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Kafka, –∫–æ—Ç–æ—Ä–∞—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è, —Ç–∞–∫–∏–µ –∫–∞–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–π –º—É–∑–µ–µ–≤. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.


# –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥—É—Å–ª–æ–≤–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–æ–º Rococo

- –ù–∞ Windows —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–µ—Ä–º–∏–Ω–∞–ª bash
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker Desktop
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Java –≤–µ—Ä—Å–∏–∏ 21
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è —Å–±–æ—Ä–∫–∏ front-end npm <br>
  [–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è](https://docs.npmjs.com/downloading-and-installing-node-js-and-npm)
- –°–ø—É–ª–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä mysql:8.3, zookeeper –∏ kafka –≤–µ—Ä—Å–∏–∏ 7.3.2
```posh
$ docker pull mysql:8.3
$ docker pull confluentinc/cp-zookeeper:7.3.2
$ docker pull confluentinc/cp-kafka:7.3.2
```



–ü–æ—Å–ª–µ `pull` –≤—ã —É–≤–∏–¥–∏—Ç–µ —Å–ø—É–ª–µ–Ω–Ω—ã–π image –∫–æ–º–∞–Ω–¥–æ–π `docker images`

```posh
mitriis-MacBook-Pro ~ % docker images            
REPOSITORY                 TAG              IMAGE ID       CREATED         SIZE
postgres                   15.1             9f3ec01f884d   10 days ago     379MB
confluentinc/cp-kafka      7.3.2            db97697f6e28   12 months ago   457MB
confluentinc/cp-zookeeper  7.3.2            6fe5551964f5   7 years ago     451MB

```

#### 3. –°–æ–∑–¥–∞—Ç—å volume –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î –≤ docker –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ

```posh
docker volume create pgdata
```

#### –°–æ–∑–¥–∞—Ç—å volume –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î –≤ docker –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
```posh
docker volume create rococo-mysql
```



#### 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ë–î, zookeeper –∏ kafka, —Ñ—Ä–æ–Ω—Ç —Å–∫—Ä–∏–ø—Ç–æ–ø bash localenv.sh

```posh
User-MacBook-Pro  niffler % bash localenv.sh
```

–§—Ä–æ–Ω—Ç –±—É–¥–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 3000: http://127.0.0.1:3000/ 

#### 5. –ü—Ä–æ–ø–∏—Å–∞—Ç—å run –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ rococo-* - Active profiles local

–î–ª—è —ç—Ç–æ–≥–æ –∑–∞–π—Ç–∏ –≤ –º–µ–Ω—é Run -> Edit Configurations -> –≤—ã–±—Ä–∞—Ç—å main –∫–ª–∞—Å—Å -> –≤ –ø–æ–ª–µ Environment variables —É–∫–∞–∑–∞—Ç—å
spring.profiles.active=local

#### 5. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å rococo-auth c –ø–æ–º–æ—â—å—é gradle –∏–ª–∏ –∫–æ–º–∞–Ω–¥–æ–π Run –≤ IDE:

```posh
$ cd rococo-auth
$ gradle bootRun --args='--spring.profiles.active=local'
```

#### 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ –ª—é–±–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã: rococo-gateway, rococo-userdata, rococo-artist, rococo-geo, rococo-museum, rococo-painting


<a name="–∑–∞–ø—É—Å–∫_–≤_docker"></a>
–î–ª—è –∑–∞–ø—É—Å–∫–∞ –≤ Docker:

### –ü—Ä–æ–ø–∏—Å–∞—Ç—å –∞–ª–∏–∞—Å—ã –≤  etc/hosts:

```posh
127.0.0.1 localhost
127.0.0.1 frontend.rococo.dc
127.0.0.1 auth.rococo.dc
127.0.0.1 rococo-all-db
127.0.0.1 gateway.rococo.dc
127.0.0.1 museum.rococo.dc
127.0.0.1 artist.rococo.dc
127.0.0.1 painting.rococo.dc
127.0.0.1 userdata.rococo.dc
127.0.0.1 allure
```

#### –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:

```bash
bash docker-compose.sh
```
#### –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Å –∞–≤—Ç–æ—Ç–µ—Å—Ç–∞–º–∏:

```bash
bash docker-compose-e2e.sh
```

# –ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ—Ç—á–µ—Ç–∞
<img src="report.png" alt="Allure Overview">




